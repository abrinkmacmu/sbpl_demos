<launch>

  <arg name="2dmap_file" default="$(find sbpl_demos)/data/sbpl_full_clean.yaml" />
  <!--   <arg name="2dmap_file" default="$(find sbpl_demos)/data/lab_costmap_YYYYMMDD.yaml" /> -->	<!-- TODO rename the file -->
  <node name="map_server" pkg="map_server" type="map_server" args="$(arg 2dmap_file)" />


  <arg name="3dmap_file" default="$(find sbpl_demos)/data/lab_octomap_20170406.bt" />
  <node name="octomap_server_combined" pkg="octomap_server" type="octomap_server_node" args="$(arg 3dmap_file)" respawn="false" >

    <param name="resolution" value="0.04" />
    <param name="sensor_model/range" value="4.0" />

    <param name="sensor_model/hit" value= "0.8" />
<!--     <param name="sensor_model/miss" value= "0.31" /> -->
    <param name="sensor_model/miss" value= "0.41" />
    <param name="sensor_model/min" value= "0.12" />
    <param name="sensor_model/max" value= "0.95" />

    <param name="min_x_size" value="25.0" />
    <param name="min_y_size" value="25.0" />

<!--     <param name="min_z_range" value="0.1" /> -->
    <param name="min_z_range" value="0.2" />
    <param name="max_z_range" value="1.8" />

<!--     <param name="pointcloud_min_z" value="0.1"/> -->
    <param name="pointcloud_min_z" value="0.2"/>
    <param name="pointcloud_max_z" value="1.8"/>

<!--     <param name="occupancy_min_z" value="0.1"/> -->
    <param name="occupancy_min_z" value="0.2"/>
    <param name="occupancy_max_z" value="1.8"/>

    <param name="filter_ground" value="false"/>
    <param name="latch" value="false"/>

    <!--remap from="cloud_in" to="/narrow_stereo_textured/points_filtered_attached2" /-->
    <!--remap from="cloud_in" to="/kinect_head/depth_registered/points" /-->
    <remap from="cloud_in" to="/kinect_throttled" />

  </node>

</launch>
